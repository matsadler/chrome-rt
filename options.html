<!DOCTYPE html>
<html>
<head>
	<title>RT Extension Options</title>
	<style>
	body {
		font-family: sans-serif;
	}
	input#RTURL {
		width: 100%;
	}
	label {
		display: block;
	}
	</style>
	
	<script>
	// Saves options to localStorage.
	function save_options() {
		var url = document.getElementById("RTURL").value;
		localStorage["RTURL"] = url.replace(/\.html/, ".rdf");
		
		var interval = document.getElementById("RTRefreshDelay").value;
		localStorage["RTRefreshDelay"] = interval;
		
		// Update status to let user know options were saved.
		var status = document.getElementById("status");
		status.innerHTML = "Options Saved.";
		setTimeout(function() {
		  status.innerHTML = "";
		}, 750);
	}

	// Restores select box state to saved value from localStorage.
	function restore_options() {
		var url = localStorage["RTURL"];
		var interval = localStorage["RTRefreshDelay"];
		
		if (url) {
			document.getElementById("RTURL").value = url;
		}
		if (interval) {
			document.getElementById("RTRefreshDelay").value = interval;
		}
	}
	</script>
</head>

<body onload="restore_options()">
	<form onsubmit="save_options()">
		<fieldset>
			<legend>Options</legend>
			
			<label for="RTURL">URL</label>
			<textarea rows="5" cols="80" id="RTURL"></textarea>
			
			<label for="RTRefreshDelay">Refresh delay (minutes)</label>
			<input id="RTRefreshDelay">
			
			<br>
			<input type="submit" value="Save">
		</fieldset>
	</form>
</body>
</html>